(()=>{var n={719:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var r=t(601),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n/* Document\n   ========================================================================== */\n\n/**\n * 1. Correct the line height in all browsers.\n * 2. Prevent adjustments of font size after orientation changes in iOS.\n */\n\nhtml {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/* Sections\n   ========================================================================== */\n\n/**\n * Remove the margin in all browsers.\n */\n\nbody {\n  margin: 0;\n}\n\n/**\n * Render the `main` element consistently in IE.\n */\n\nmain {\n  display: block;\n}\n\n/**\n * Correct the font size and margin on `h1` elements within `section` and\n * `article` contexts in Chrome, Firefox, and Safari.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * 1. Add the correct box sizing in Firefox.\n * 2. Show the overflow in Edge and IE.\n */\n\nhr {\n  box-sizing: content-box; /* 1 */\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\npre {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Remove the gray background on active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * 1. Remove the bottom border in Chrome 57-\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n */\n\nabbr[title] {\n  border-bottom: none; /* 1 */\n  text-decoration: underline; /* 2 */\n  text-decoration: underline dotted; /* 2 */\n}\n\n/**\n * Add the correct font weight in Chrome, Edge, and Safari.\n */\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n * Add the correct font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` elements from affecting the line height in\n * all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove the border on images inside links in IE 10.\n */\n\nimg {\n  border-style: none;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * 1. Change the font styles in all browsers.\n * 2. Remove the margin in Firefox and Safari.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\n * Show the overflow in IE.\n * 1. Show the overflow in Edge.\n */\n\nbutton,\ninput { /* 1 */\n  overflow: visible;\n}\n\n/**\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 1. Remove the inheritance of text transform in Firefox.\n */\n\nbutton,\nselect { /* 1 */\n  text-transform: none;\n}\n\n/**\n * Correct the inability to style clickable types in iOS and Safari.\n */\n\nbutton,\n[type="button"],\n[type="reset"],\n[type="submit"] {\n  -webkit-appearance: button;\n}\n\n/**\n * Remove the inner border and padding in Firefox.\n */\n\nbutton::-moz-focus-inner,\n[type="button"]::-moz-focus-inner,\n[type="reset"]::-moz-focus-inner,\n[type="submit"]::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n * Restore the focus styles unset by the previous rule.\n */\n\nbutton:-moz-focusring,\n[type="button"]:-moz-focusring,\n[type="reset"]:-moz-focusring,\n[type="submit"]:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n * Correct the padding in Firefox.\n */\n\nfieldset {\n  padding: 0.35em 0.75em 0.625em;\n}\n\n/**\n * 1. Correct the text wrapping in Edge and IE.\n * 2. Correct the color inheritance from `fieldset` elements in IE.\n * 3. Remove the padding so developers are not caught out when they zero out\n *    `fieldset` elements in all browsers.\n */\n\nlegend {\n  box-sizing: border-box; /* 1 */\n  color: inherit; /* 2 */\n  display: table; /* 1 */\n  max-width: 100%; /* 1 */\n  padding: 0; /* 3 */\n  white-space: normal; /* 1 */\n}\n\n/**\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n */\n\nprogress {\n  vertical-align: baseline;\n}\n\n/**\n * Remove the default vertical scrollbar in IE 10+.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * 1. Add the correct box sizing in IE 10.\n * 2. Remove the padding in IE 10.\n */\n\n[type="checkbox"],\n[type="radio"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Correct the cursor style of increment and decrement buttons in Chrome.\n */\n\n[type="number"]::-webkit-inner-spin-button,\n[type="number"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Correct the odd appearance in Chrome and Safari.\n * 2. Correct the outline style in Safari.\n */\n\n[type="search"] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\n * Remove the inner padding in Chrome and Safari on macOS.\n */\n\n[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/* Interactive\n   ========================================================================== */\n\n/*\n * Add the correct display in Edge, IE 10+, and Firefox.\n */\n\ndetails {\n  display: block;\n}\n\n/*\n * Add the correct display in all browsers.\n */\n\nsummary {\n  display: list-item;\n}\n\n/* Misc\n   ========================================================================== */\n\n/**\n * Add the correct display in IE 10+.\n */\n\ntemplate {\n  display: none;\n}\n\n/**\n * Add the correct display in IE 10.\n */\n\n[hidden] {\n  display: none;\n}\n',""]);const s=o},998:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var r=t(601),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,".button {\n  user-select: none;\n  color: var(--white);\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 2px;\n  font-size: 1.2rem;\n  background-color: var(--yellow-lighter);\n  box-shadow: 0 5px 0px 0px var(--shadow-color, var(--yellow-light));\n\n  transition:\n    transform 0.1s ease-out,\n    box-shadow 0.1s ease-out;\n}\n\n.button:active {\n  transform: translate(0px, 5px);\n  box-shadow: 0px 1px 0px 0px var(--shadow-color, var(--yellow-light));\n  transition: none;\n}\n",""]);const s=o},574:(n,e,t)=>{"use strict";t.d(e,{A:()=>b});var r=t(601),i=t.n(r),a=t(314),o=t.n(a),s=t(417),c=t.n(s),l=new URL(t(373),t.b),d=new URL(t(52),t.b),u=new URL(t(571),t.b),p=o()(i()),h=c()(l),m=c()(d),f=c()(u);p.push([n.id,`@font-face {\n  font-family: 'Metadannye';\n  src: url(${h});\n}\n\n@font-face {\n  font-family: 'RadioCanadaBig';\n  src: url(${m});\n}\n\n@font-face {\n  font-family: 'Jaro';\n  src: url(${f});\n}\n`,""]);const b=p},704:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var r=t(601),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,"body {\n  height: 100dvh;\n  background-color: var(--white);\n  color: var(--gray-dark);\n  font-family: 'Jaro', sans-serif;\n  font-weight: 400;\n}\n\nmain {\n  height: 100%;\n  display: grid;\n\n  grid-template-areas:\n    'header header'\n    'message message'\n    'board0  board1'\n    'control .';\n\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: max-content 10vh max-content 1fr;\n\n  gap: 1rem;\n}\n\nheader {\n  grid-area: header;\n}\n\n.message-board {\n  grid-area: message;\n}\n\n.control-panel {\n  grid-area: control;\n}\n\n.board-wrapper0 {\n  grid-area: board0;\n}\n\n.board-wrapper1 {\n  grid-area: board1;\n}\n",""]);const s=o},402:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var r=t(601),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,".endscreen-dialogbox {\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n  padding: 1.5rem;\n}\n\n.endscreen-winner {\n  margin: 0;\n  padding: 0;\n  font-size: 2rem;\n}\n",""]);const s=o},714:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var r=t(601),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,".modal {\n  display: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100dvh;\n  width: 100dvw;\n\n  background: rgba(255, 255, 255, 0.2);\n  backdrop-filter: blur(5px);\n  -webkit-backdrop-filter: blur(5px);\n}\n\n.modal-opaque {\n  background: var(--white);\n}\n\n.modal-active {\n  display: block;\n}\n\n.modal-dialogbox {\n  position: absolute;\n  transform: translate(-50%, -50%);\n  top: 40%;\n  left: 50%;\n\n  background-color: var(--white);\n  border-radius: 4px;\n\n  padding: 1rem;\n\n  -webkit-box-shadow: 0px 0px 100px 11px rgba(128, 128, 128, 0.3);\n  -moz-box-shadow: 0px 0px 100px 11px rgba(128, 128, 128, 0.3);\n  box-shadow: 0px 0px 100px 11px rgba(128, 128, 128, 0.3);\n}\n",""]);const s=o},385:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var r=t(601),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,".startscreen-dialogbox {\n  display: grid;\n  grid-template-areas:\n    'header header header'\n    'name0 switch name1'\n    'mode0 . mode1'\n    'play play play';\n\n  grid-template-columns: 1fr 5rem 1fr;\n  grid-template-rows: max-content 2.5rem max-content max-content;\n\n  column-gap: 1.5rem;\n  row-gap: 2.5rem;\n}\n\n.startscreen-header {\n  text-align: center;\n  grid-area: header;\n  padding: 0;\n  margin: 0;\n  font-size: 3.5rem;\n  font-weight: 500;\n}\n\n.startscreen-name {\n  font-size: 1.7rem;\n  margin: 0;\n  display: grid;\n  place-items: center;\n}\n\n.startscreen-name-0 {\n  grid-area: name0;\n}\n\n.startscreen-name-1 {\n  grid-area: name1;\n}\n\n.startscreen-mode-wrapper-0 {\n  grid-area: mode0;\n}\n.startscreen-mode-wrapper-1 {\n  grid-area: mode1;\n}\n\n.startscreen-mode-label {\n  background-color: var(--blue-light-0);\n  box-shadow: 0 5px 0px 0px var(--blue-dark-0);\n  color: var(--white);\n\n  display: block;\n  user-select: none;\n  text-align: center;\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 2px;\n  font-size: 1.2rem;\n\n  transition:\n    transform 0.1s ease-out,\n    box-shadow 0.1s ease-out,\n    background-color 0.1s;\n}\n\ninput:checked + .startscreen-mode-label {\n  background-color: var(--blue-light-1);\n  box-shadow: 0px 1px 0px 0px var(--blue-dark-1);\n  transform: translate(0px, 5px);\n  transition: none;\n}\n\n.startscreen-mode {\n  display: none;\n  appearance: none;\n}\n\n.startscreen-play {\n  grid-area: play;\n\n  --shadow-color: var(--green);\n  background-color: var(--green-light);\n}\n\n.startscreen-switch {\n  display: none;\n}\n\n.startscreen-switch-active {\n  display: block;\n}\n",""]);const s=o},766:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var r=t(601),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,".switchscreen-dialogbox {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 1.5rem;\n}\n\n.switchscreen-dialogbox p {\n  text-align: center;\n  font-size: 1.5rem;\n  margin: 0;\n  padding: 0;\n}\n",""]);const s=o},520:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var r=t(601),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,".board-wrapper {\n  display: grid;\n  justify-self: center;\n  align-self: center;\n  grid-template-areas:\n    'team team'\n    '. letters'\n    'numbers board';\n  grid-template-columns: 1em max-content;\n  grid-template-rows: max-content 1em max-content;\n  gap: 2px;\n}\n\n.board-team {\n  font-size: 1.3rem;\n  padding: 0.5rem;\n  text-align: center;\n\n  grid-area: team;\n}\n\n.board-numbers,\n.board-letters {\n  font-weight: bold;\n  font-family: 'RadioCanadaBig', sans-serif;\n  font-weight: 600;\n  font-size: 0.8rem;\n  display: grid;\n  gap: 2px;\n}\n\n.board-numbers {\n  grid-area: numbers;\n\n  grid-auto-flow: row;\n  grid-auto-rows: 1fr;\n\n  align-items: center;\n  justify-items: center;\n}\n\n.board-letters {\n  grid-area: letters;\n\n  grid-auto-flow: column;\n  grid-auto-columns: 1fr;\n\n  align-items: center;\n  justify-items: center;\n}\n\n.board {\n  grid-area: board;\n  user-select: none;\n  -webkit-user-select: none;\n  display: grid;\n  grid-template-columns: repeat(10, 40px);\n  grid-template-rows: repeat(10, 40px);\n  gap: 2px;\n}\n\n.square {\n  background-color: var(--blue);\n}\n\n.square-hit {\n  position: relative;\n}\n\n.square-hit::after {\n  background-color: var(--white);\n\n  content: '';\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n\n  width: 1rem;\n  height: 1rem;\n\n  clip-path: polygon(\n    20% 0%,\n    0% 20%,\n    30% 50%,\n    0% 80%,\n    20% 100%,\n    50% 70%,\n    80% 100%,\n    100% 80%,\n    70% 50%,\n    100% 20%,\n    80% 0%,\n    50% 30%\n  );\n}\n\n.ship {\n  position: absolute;\n  display: grid;\n  grid-auto-rows: 40px;\n  grid-auto-columns: 40px;\n  gap: 2px;\n}\n\n.ship-horizontal {\n  grid-auto-flow: column;\n}\n\n.ship-vertical {\n  grid-auto-flow: row;\n}\n\n.ship-part {\n  background-color: var(--yellow);\n}\n\n.ship-part-hit,\n.square-ship-hit {\n  background-color: var(--red);\n}\n",""]);const s=o},364:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var r=t(601),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,".control-panel {\n  visibility: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: start;\n  gap: 1.5rem;\n}\n\n.confirm-button {\n  --shadow-color: var(--green);\n  background-color: var(--green-light);\n}\n\n.control-panel-active {\n  visibility: visible;\n}\n",""]);const s=o},996:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var r=t(601),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,"h1 {\n  margin: 0;\n  padding: 0;\n\n  text-align: center;\n  font-size: 7rem;\n  font-family: 'Metadannye', sans-serif;\n  font-weight: 400;\n}\n",""]);const s=o},428:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var r=t(601),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,".message-board {\n  font-size: 1.8rem;\n\n  display: flex;\n  justify-content: center;\n  align-items: end;\n}\n",""]);const s=o},759:(n,e,t)=>{"use strict";t.d(e,{A:()=>s});var r=t(601),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,":root {\n  --gray-dark: #2e282a;\n  --gray: #99a3a3;\n  --white: #f7fff7;\n  --blue: #00c6d8;\n  --green: #33e62d;\n  --green-light: #39ff32;\n  --red: #ff3b21;\n  --yellow: #f7e733;\n\n  --brown: #845c48;\n  --brown-dark: #644536;\n\n  --yellow-light: #f0c105;\n  --yellow-lighter: #fbcf23;\n\n  --blue-light-0: #0093f5;\n  --blue-dark-0: #0282f2;\n  --blue-light-1: #0164a7;\n  --blue-dark-1: #014e81;\n}\n",""]);const s=o},314:n=>{"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,i,a){"string"==typeof n&&(n=[[null,n,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(o[c]=!0)}for(var l=0;l<n.length;l++){var d=[].concat(n[l]);r&&o[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),e.push(d))}},e}},417:n=>{"use strict";n.exports=function(n,e){return e||(e={}),n?(n=String(n.__esModule?n.default:n),/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),e.hash&&(n+=e.hash),/["'() \t\n]|(%20)/.test(n)||e.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n):n}},601:n=>{"use strict";n.exports=function(n){return n[1]}},224:function(n,e,t){n=t.nmd(n),function(t,r){"use strict";var i={};t.PubSub?(i=t.PubSub,console.warn("PubSub already loaded, using existing version")):(t.PubSub=i,function(n){var e={},t=-1,r="*";function i(n,e,t){try{n(e,t)}catch(n){setTimeout(function(n){return function(){throw n}}(n),0)}}function a(n,e,t){n(e,t)}function o(n,t,r,o){var s,c=e[t],l=o?a:i;if(Object.prototype.hasOwnProperty.call(e,t))for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&l(c[s],n,r)}function s(n){var t=String(n);return Boolean(Object.prototype.hasOwnProperty.call(e,t)&&function(n){var e;for(e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!0;return!1}(e[t]))}function c(n,e,t,i){var a=function(n,e,t){return function(){var i=String(n),a=i.lastIndexOf(".");for(o(n,n,e,t);-1!==a;)a=(i=i.substr(0,a)).lastIndexOf("."),o(n,i,e,t);o(n,r,e,t)}}(n="symbol"==typeof n?n.toString():n,e,i);return!!function(n){for(var e=String(n),t=s(e)||s(r),i=e.lastIndexOf(".");!t&&-1!==i;)i=(e=e.substr(0,i)).lastIndexOf("."),t=s(e);return t}(n)&&(!0===t?a():setTimeout(a,0),!0)}n.publish=function(e,t){return c(e,t,!1,n.immediateExceptions)},n.publishSync=function(e,t){return c(e,t,!0,n.immediateExceptions)},n.subscribe=function(n,r){if("function"!=typeof r)return!1;n="symbol"==typeof n?n.toString():n,Object.prototype.hasOwnProperty.call(e,n)||(e[n]={});var i="uid_"+String(++t);return e[n][i]=r,i},n.subscribeAll=function(e){return n.subscribe(r,e)},n.subscribeOnce=function(e,t){var r=n.subscribe(e,(function(){n.unsubscribe(r),t.apply(this,arguments)}));return n},n.clearAllSubscriptions=function(){e={}},n.clearSubscriptions=function(n){var t;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&0===t.indexOf(n)&&delete e[t]},n.countSubscriptions=function(n){var t,r,i=0;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&0===t.indexOf(n)){for(r in e[t])i++;break}return i},n.getSubscriptions=function(n){var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&0===t.indexOf(n)&&r.push(t);return r},n.unsubscribe=function(t){var r,i,a,o="string"==typeof t&&(Object.prototype.hasOwnProperty.call(e,t)||function(n){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&0===t.indexOf(n))return!0;return!1}(t)),s=!o&&"string"==typeof t,c="function"==typeof t,l=!1;if(!o){for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(i=e[r],s&&i[t]){delete i[t],l=t;break}if(c)for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&i[a]===t&&(delete i[a],l=!0)}return l}n.clearSubscriptions(t)}}(i)),void 0!==n&&n.exports&&(e=n.exports=i),e.PubSub=i,n.exports=e=i}("object"==typeof window&&window||this)},72:n=>{"use strict";var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},o=[],s=0;s<n.length;s++){var c=n[s],l=r.base?c[0]+r.base:c[0],d=a[l]||0,u="".concat(l," ").concat(d);a[l]=d+1;var p=t(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var m=i(h,r);r.byIndex=s,e.splice(s,0,{identifier:u,updater:m,references:1})}o.push(u)}return o}function i(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,i){var a=r(n=n||[],i=i||{});return function(n){n=n||[];for(var o=0;o<a.length;o++){var s=t(a[o]);e[s].references--}for(var c=r(n,i),l=0;l<a.length;l++){var d=t(a[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}a=c}}},659:n=>{"use strict";var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:n=>{"use strict";n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{"use strict";n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{"use strict";n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,i&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{"use strict";n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},571:(n,e,t)=>{"use strict";n.exports=t.p+"a7bc648636e23cac1278.woff"},373:(n,e,t)=>{"use strict";n.exports=t.p+"6b990783ef4e1f4609d7.woff"},52:(n,e,t)=>{"use strict";n.exports=t.p+"56828c0a4861e0142afc.woff"}},e={};function t(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={id:r,loaded:!1,exports:{}};return n[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}t.m=n,t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nmd=n=>(n.paths=[],n.children||(n.children=[]),n),(()=>{var n;t.g.importScripts&&(n=t.g.location+"");var e=t.g.document;if(!n&&e&&(e.currentScript&&(n=e.currentScript.src),!n)){var r=e.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&(!n||!/^http(s?):/.test(n));)n=r[i--].src}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=n})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{"use strict";var n=t(72),e=t.n(n),r=t(825),i=t.n(r),a=t(659),o=t.n(a),s=t(56),c=t.n(s),l=t(540),d=t.n(l),u=t(113),p=t.n(u),h=t(719),m={};m.styleTagTransform=p(),m.setAttributes=c(),m.insert=o().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=d(),e()(h.A,m),h.A&&h.A.locals&&h.A.locals;var f=t(704),b={};b.styleTagTransform=p(),b.setAttributes=c(),b.insert=o().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=d(),e()(f.A,b),f.A&&f.A.locals&&f.A.locals;var g=t(574),y={};y.styleTagTransform=p(),y.setAttributes=c(),y.insert=o().bind(null,"head"),y.domAPI=i(),y.insertStyleElement=d(),e()(g.A,y),g.A&&g.A.locals&&g.A.locals;var v=t(759),x={};x.styleTagTransform=p(),x.setAttributes=c(),x.insert=o().bind(null,"head"),x.domAPI=i(),x.insertStyleElement=d(),e()(v.A,x),v.A&&v.A.locals&&v.A.locals;var w=t(998),A={};A.styleTagTransform=p(),A.setAttributes=c(),A.insert=o().bind(null,"head"),A.domAPI=i(),A.insertStyleElement=d(),e()(w.A,A),w.A&&w.A.locals&&w.A.locals;var S=t(714),E={};E.styleTagTransform=p(),E.setAttributes=c(),E.insert=o().bind(null,"head"),E.domAPI=i(),E.insertStyleElement=d(),e()(S.A,E),S.A&&S.A.locals&&S.A.locals;var k=t(996),I={};I.styleTagTransform=p(),I.setAttributes=c(),I.insert=o().bind(null,"head"),I.domAPI=i(),I.insertStyleElement=d(),e()(k.A,I),k.A&&k.A.locals&&k.A.locals;var C=t(520),P={};P.styleTagTransform=p(),P.setAttributes=c(),P.insert=o().bind(null,"head"),P.domAPI=i(),P.insertStyleElement=d(),e()(C.A,P),C.A&&C.A.locals&&C.A.locals;var T=t(364),z={};z.styleTagTransform=p(),z.setAttributes=c(),z.insert=o().bind(null,"head"),z.domAPI=i(),z.insertStyleElement=d(),e()(T.A,z),T.A&&T.A.locals&&T.A.locals;var O=t(428),L={};L.styleTagTransform=p(),L.setAttributes=c(),L.insert=o().bind(null,"head"),L.domAPI=i(),L.insertStyleElement=d(),e()(O.A,L),O.A&&O.A.locals&&O.A.locals;var B=t(402),N={};N.styleTagTransform=p(),N.setAttributes=c(),N.insert=o().bind(null,"head"),N.domAPI=i(),N.insertStyleElement=d(),e()(B.A,N),B.A&&B.A.locals&&B.A.locals;var j=t(385),R={};R.styleTagTransform=p(),R.setAttributes=c(),R.insert=o().bind(null,"head"),R.domAPI=i(),R.insertStyleElement=d(),e()(j.A,R),j.A&&j.A.locals&&j.A.locals;var q=t(766),U={};U.styleTagTransform=p(),U.setAttributes=c(),U.insert=o().bind(null,"head"),U.domAPI=i(),U.insertStyleElement=d(),e()(q.A,U),q.A&&q.A.locals&&q.A.locals;var M=t(224),$=t.n(M);function D(n,e){const t=document.createElement("div");return t.classList.add("square"),t.setAttribute("data-x",n),t.setAttribute("data-y",e),t.addEventListener("click",(n=>{const{currentTarget:e,target:t}=n,r={x:Number(t.getAttribute("data-x")),y:Number(t.getAttribute("data-y")),boardId:Number(e.parentElement.getAttribute("data-board-id"))};$().publish("square-clicked",r)})),t.addEventListener("dragenter",(n=>{n.preventDefault()})),t.addEventListener("dragover",(n=>{n.preventDefault()})),t.addEventListener("drop",(n=>{const{target:e,currentTarget:t}=n,r=Number(t.parentElement.getAttribute("data-board-id"));if(r!==Number(H.parentElement.parentElement.getAttribute("data-board-id")))return;const i=H.children[0],a={oldX:Number(i.getAttribute("data-x")),oldY:Number(i.getAttribute("data-y")),newX:Number(e.getAttribute("data-x")),newY:Number(e.getAttribute("data-y")),boardId:r};$().publish("ship-dropped",a)})),t}let H;const X=class{isDraggingEnabled=!1;shipsContainer=[];constructor(n,e){this.board=n,this.id=e,this.initializeBoard()}cleanBoard(){const n=Array.from(this.board.children);this.shipsContainer=[],n.forEach((n=>{n.replaceChildren(),n.classList.remove("square-hit"),n.classList.remove("square-ship-hit")}))}initializeBoard(){this.board.setAttribute("data-board-id",this.id);for(let n=0;n<10;n+=1)for(let e=0;e<10;e+=1){const t=D(e,n);this.board.append(t)}}receiveAttack(n,e){const t=this.getShipPart(n,e),r=null!=t,i=this.getSquare(n,e);null!=i&&(r?i.classList.add("square-ship-hit"):i.classList.add("square-hit")),t&&t.classList.add("ship-part-hit")}placeShip(n,e,t,r){const i=function(n,e,t,r,i){const a=document.createElement("div");a.classList.add("ship"),t?a.classList.add("ship-horizontal"):a.classList.add("ship-vertical");for(let i=0;i<r;i+=1){const r=document.createElement("div");r.classList.add("ship-part"),a.appendChild(r),t?(r.setAttribute("data-x",n+i),r.setAttribute("data-y",e)):(r.setAttribute("data-x",n),r.setAttribute("data-y",e+i))}return a.addEventListener("dragstart",(n=>{H=n.target})),a.addEventListener("dblclick",(n=>{const{currentTarget:e}=n,t=Number(e.parentElement.parentElement.getAttribute("data-board-id")),r=e.children[0],i={shipX:Number(r.getAttribute("data-x")),shipY:Number(r.getAttribute("data-y")),boardId:t};$().publish("ship-rotated",i)})),a.setAttribute("draggable",i),a}(n,e,t,r,this.isDraggingEnabled);this.getSquare(n,e).append(i)}removeShip(n,e){this.board.querySelector(`.square[data-x='${n}'][data-y='${e}']`).textContent=""}getSquare(n,e){return this.board.querySelector(`[data-x="${n}"][data-y="${e}"]`)}enableDragging(){this.isDraggingEnabled=!0,this.board.querySelectorAll(".ship").forEach((n=>{n.setAttribute("draggable","true")}))}disableDragging(){this.isDraggingEnabled=!1,this.board.querySelectorAll(".ship").forEach((n=>{n.setAttribute("draggable","false")}))}hideShips(){this.board.childNodes.forEach((n=>{const e=n.getElementsByClassName("ship")[0];e&&(e.remove(),this.shipsContainer.push(e))}))}showShips(){this.shipsContainer.forEach((n=>{const e=n.childNodes[0],t=Number(e.getAttribute("data-x")),r=Number(e.getAttribute("data-y"));this.getSquare(t,r).appendChild(n)}))}getShipPart(n,e){const t=this.board.querySelector(`.ship-part[data-x='${n}'][data-y='${e}']`);if(null!=t)return t;const r=this.shipsContainer.reduce(((n,e)=>{const t=e.childNodes;return n.concat(...t)}),[]);return r.length>0?r.find((t=>{const r=Number(t.getAttribute("data-x"))===n,i=Number(t.getAttribute("data-y"))===e;return r&&i})):void 0}},F=class{constructor(n,e,t,r){this.hits=0,this.startX=n,this.startY=e,this.isAxisX=t,this.length=r}hit(){this.hits+=1}isSunk(){return this.hits>=this.length}};function Y(n,e,t,r){const i=[];if(!0===t)for(let t=n;t-n<r;t+=1)i.push([t,e]);else if(!1===t)for(let t=e;t-e<r;t+=1)i.push([n,t]);return i}function J(n,e,t,r){const i=[];if(t){for(let t=n;t-n<r;t+=1){const n=[t,e-1],r=[t,e+1];G(...n)&&i.push(n),G(...r)&&i.push(r)}const t=n-1,a=n+r;for(let n=-1;n<=1;n+=1){const r=[t,e+n],o=[a,e+n];G(...r)&&i.push(r),G(...o)&&i.push(o)}}else{for(let t=e;t-e<r;t+=1){const e=[n-1,t],r=[n+1,t];G(...e)&&i.push(e),G(...r)&&i.push(r)}const t=e-1,a=e+r;for(let e=-1;e<=1;e+=1){const r=[n+e,t],o=[n+e,a];G(...r)&&i.push(r),G(...o)&&i.push(o)}}return i}function _(n,e){const t=[];for(let r=n-1;r<=n+1;r+=1)for(let i=e-1;i<=e+1;i+=1)r===n&&i===e||!G(r,i)||t.push([r,i]);return t}function G(n,e){return n>=0&&n<=9&&e>=0&&e<=9}function Q(){const n=[];for(let e=0;e<10;e+=1)for(let t=0;t<10;t+=1)n.push([e,t]);return n}function K(n,e,t,r){let i;return i=t?[n+r-1,e]:[n,e+r-1],i}function V(n,e){return n.filter((n=>-1===e.findIndex((e=>n.toString()===e.toString()))))}const W=function(n){return Math.floor(Math.random()*n)};function Z(){const n=[];for(let e=0;e<10;e+=1){const t=[];for(let n=0;n<10;n+=1){const r={isHit:!1,ship:null,x:e,y:n};t.push(r)}n.push(t)}return n}const nn=class{constructor(){this.board=Z()}placeShip(n,e,t,r){if(!this.isLegalToPlaceShip(n,e,t,r))throw new Error("Ship out of bound");const i=new F(n,e,t,r);Y(n,e,t,r).forEach((([n,e])=>{this.board[n][e].ship=i}))}removeShip(n,e){this.getShipCoords(n,e).forEach((([n,e])=>{this.board[n][e].ship=null}))}receiveAttack(n,e){const t=this.board[n][e];!1===t.isHit&&(t.isHit=!0,t.ship&&t.ship.hit())}areAllSunk(){return this.board.flat().every((n=>!(null!=n.ship&&!n.ship.isSunk())))}calculateAttack(){const n=Q(),e=n.filter((([n,e])=>{const t=this.isHit(n,e),r=this.isShip(n,e),i=this.isSunk(n,e);return t&&r&&!i})).reduce(((n,e)=>{const[t,r]=e,i=this.getShip(t,r),a=function(n,e){const t=[],r=[n,e-1];G(...r)&&t.push(r);const i=[n,e+1];return G(...i)&&t.push(i),t}(t,r),o=function(n,e){const t=[],r=[n-1,e];G(...r)&&t.push(r);const i=[n+1,e];return G(...i)&&t.push(i),t}(t,r);let s=[];s=i.hits>1?i.isAxisX?o:a:o.concat(a);const c=s.filter((([n,e])=>!this.isHit(n,e)));return n.concat(c)}),[]);if(e.length>0)return e[W(e.length)];const t=n.filter((([n,e])=>!this.isHit(n,e)));return t[W(t.length)]}isLegalToPlaceShip(n,e,t,r){const i=function(n,e,t,r){return(!0===t?n+r:e+r)-1>9}(n,e,t,r);return!i&&(!Y(n,e,t,r).some((([n,e])=>null!=this.board[n][e].ship))&&!J(n,e,t,r).some((([n,e])=>null!=this.board[n][e].ship)))}getShipCoords(n,e){if(!this.isShip(n,e))return[];const t=_(n,e),r=[...t,[n,e]],i=[[n,e]];for(;t.length>0;){const[n,e]=t.pop();if(!0===this.isShip(n,e)){i.push([n,e]);const a=_(n,e).filter((n=>!r.some((e=>{return t=n,r=e,JSON.stringify(t)===JSON.stringify(r);var t,r}))));r.push(...a),t.push(...a)}}return i}getShipStart(n,e){const{ship:t}=this.board[n][e];return{startX:t.startX,startY:t.startY}}isHit(n,e){return this.board[n][e].isHit}isShip(n,e){return null!=this.board[n][e].ship}isSunk(n,e){const{ship:t}=this.board[n][e];if(null!=t)return t.isSunk()}getShip(n,e){return this.board[n][e].ship}getShipAdjacentCoords(n,e){const{ship:t}=this.board[n][e];if(null==t)return[];const{startX:r,startY:i,isAxisX:a,length:o}=t;return J(r,i,a,o)}cleanBoard(){this.board=Z()}},en=class extends nn{constructor(n,e){super(),this.name=n,this.isAi=e}},tn=document.getElementById("board-wrapper0"),rn=document.getElementById("board-wrapper1"),an=document.getElementById("board0"),on=document.getElementById("board1"),sn=function(n){0===n?(an.remove(),tn.appendChild(an),on.remove(),rn.appendChild(on)):1===n&&(on.remove(),tn.appendChild(on),an.remove(),rn.appendChild(an))},cn=function(n){const e=document.getElementById(`board-numbers${n}`),t=document.getElementById(`board-letters${n}`);!function(n){for(let e=0;e<10;e+=1){const t=document.createElement("div");t.textContent=e,n.append(t)}}(e),function(n){for(let e=0;e<10;e+=1){const t=document.createElement("div"),r=e+65;t.textContent=String.fromCharCode(r),n.append(t)}}(t)},ln=class{constructor(n,e,t,r){this.player=new en(n,e),this.boardUi=new X(t,r),this.id=r,cn(r),$().subscribe("ship-dropped",((n,e)=>{const{oldX:t,oldY:r,newX:i,newY:a,boardId:o}=e;o===this.id&&(t===i&&r===a||this.relocateShip(t,r,i,a))})),$().subscribe("ship-rotated",((n,e)=>{const{shipX:t,shipY:r,boardId:i}=e;i===this.id&&this.rotateShip(t,r)}))}receiveAttack(n,e){this.player.receiveAttack(n,e),this.boardUi.receiveAttack(n,e),!0===this.player.isSunk(n,e)&&this.explodeShip(n,e)}calculateAttack(){return this.player.calculateAttack()}areAllSunk(){return this.player.areAllSunk()}cleanBoard(){this.player.cleanBoard(),this.boardUi.cleanBoard()}isAi(){return this.player.isAi}isHit(n,e){return this.player.isHit(n,e)}isShip(n,e){return this.player.isShip(n,e)}placeShip(n,e,t,r){this.player.placeShip(n,e,t,r),this.boardUi.placeShip(n,e,t,r)}relocateShip(n,e,t,r){const{isAxisX:i,length:a}=this.player.getShip(n,e);this.player.removeShip(n,e),this.player.isLegalToPlaceShip(t,r,i,a)?(this.boardUi.removeShip(n,e),this.player.placeShip(t,r,i,a),this.boardUi.placeShip(t,r,i,a)):this.player.placeShip(n,e,i,a)}rotateShip(n,e){const{isAxisX:t,length:r}=this.player.getShip(n,e);this.player.removeShip(n,e),this.player.isLegalToPlaceShip(n,e,!t,r)?(this.boardUi.removeShip(n,e),this.player.placeShip(n,e,!t,r),this.boardUi.placeShip(n,e,!t,r)):this.player.placeShip(n,e,t,r)}removeShip(n,e){this.player.removeShip(n,e),this.boardUi.removeShip(n,e)}getName(){return this.player.name}enableDragging(){this.boardUi.enableDragging()}disableDragging(){this.boardUi.disableDragging()}showShips(){this.boardUi.showShips()}hideShips(){this.boardUi.hideShips()}placeRandomShips(){(function(){let n=function(n){const e=[...n];for(let n=e.length-1;n>0;n-=1){const t=Math.floor((n+1)*Math.random()),r=e[t];e[t]=e[n],e[n]=r}return e}(Q());const e=[];return[4,3,3,2,2,2,1,1,1,1].forEach((t=>{const r=Math.random()<.5;for(let i=0;i<n.length;i+=1){const[a,o]=n[i],s=[a,o,r,t],c=K(...s).toString();if(n.some((n=>{const e=n.toString();return c===e}))){const t=J(...s),r=Y(...s),i=t.concat(r);n=V(n,i),e.push(s);break}}})),e})().forEach((n=>{this.player.placeShip(...n),this.boardUi.placeShip(...n)}))}explodeShip(n,e){this.player.getShipAdjacentCoords(n,e).forEach((([n,e])=>{this.player.receiveAttack(n,e),this.boardUi.receiveAttack(n,e)}))}changePlayer(n,e){this.player.name=n,this.player.isAi=e}},dn=document.getElementById("board0"),un=document.getElementById("board1"),pn=new ln("Player 1",!1,dn,0),hn=new ln("Player 2",!0,un,1),mn=[pn,hn];let fn=0,bn=1,gn=mn[fn],yn=mn[bn];const vn=function(){bn=fn,fn=0===fn?1:0,gn=mn[fn],yn=mn[bn]},xn=function(){return bn},wn=function(){return gn.areAllSunk()||yn.areAllSunk()},An=function(){return gn},Sn=function(){return yn},En=function(){let n=null;const e=gn.areAllSunk(),t=yn.areAllSunk();return e?n=yn:t&&(n=gn),n},kn=function(n,e,t,r){pn.changePlayer(n,e),hn.changePlayer(t,r)},In=function(){pn.cleanBoard(),hn.cleanBoard(),pn.placeRandomShips(),hn.placeRandomShips(),fn=0,bn=1,gn=mn[fn],yn=mn[bn]},Cn=function(){pn.cleanBoard(),hn.cleanBoard()},Pn=document.getElementById("control-panel"),Tn=document.getElementById("confirm-button"),zn=document.getElementById("random-button");Tn.addEventListener("click",(()=>{$().publish("placement-confirmed")})),zn.addEventListener("click",(()=>{$().publish("replace-ships-clicked")}));const On=function(){Pn.classList.add("control-panel-active")},Ln=function(){Pn.classList.remove("control-panel-active")},Bn=document.getElementById("switchscreen"),Nn=document.getElementById("switchscreen-player");function jn(){Bn.classList.remove("modal-active")}document.getElementById("switchscreen-play").addEventListener("click",(()=>{jn()}));const Rn=function(n){Nn.textContent=`${n}'s turn`},qn=function(){Bn.classList.add("modal-active")};async function Un(){const n=An(),e=Sn();n.isAi()||(e.isAi()||(Rn(n.getName()),qn()),sn(n.id),n.showShips(),n.enableDragging(),e.hideShips(),await new Promise((n=>{const e=$().subscribe("placement-confirmed",(()=>{n(),$().unsubscribe(e)}))})),n.disableDragging()),vn()}const Mn=document.getElementById("startscreen"),$n=document.getElementById("startscreen-name-0"),Dn=document.getElementById("startscreen-name-1"),Hn=document.getElementById("startscreen-mode-0"),Xn=document.getElementById("startscreen-mode-1"),Fn=[Hn,Xn],Yn=document.getElementById("startscreen-switch"),Jn=document.getElementById("startscreen-play");let _n=[!1,!0];function Gn(){Mn.classList.remove("modal-active")}function Qn(n,e){n||e?n?($n.textContent="Computer",Dn.textContent="Human"):e&&($n.textContent="Human",Dn.textContent="Computer"):($n.textContent="Player 1",Dn.textContent="Player 2")}function Kn(){return Hn.checked}Fn.forEach((n=>{n.addEventListener("change",(()=>{Kn()?(_n=[!1,!0],Yn.classList.add("startscreen-switch-active")):(_n=[!1,!1],Yn.classList.remove("startscreen-switch-active")),Qn(..._n)}))})),Yn.addEventListener("click",(()=>{Kn()&&(_n=_n.toReversed()),Qn(..._n)})),Jn.addEventListener("click",(()=>{const n=[$n.textContent,Dn.textContent],e=[n[0],_n[0]],t=[n[1],_n[1]];$().publish("start-game",[e,t]),Gn()}));const Vn=function(){Mn.classList.add("modal-active")},Wn=document.getElementById("endscreen"),Zn=document.getElementById("endscreen-winner");function ne(){Wn.classList.remove("modal-active")}document.getElementById("endscreen-play-button").addEventListener("click",(()=>{ne(),$().publish("play-again-clicked")}));const ee=function(){Wn.classList.add("modal-active")},te=function(n){Zn.textContent=`The winner is ${n}`},re=document.getElementById("message-board"),ie=function(){re.textContent="Place your ships"},ae=function(){re.textContent="Attack your enemy"};$().subscribe("game-loop-ended",(()=>{const n=En();te(n.getName()),ee()})),$().subscribe("start-game",(async(n,e)=>{const[t,r]=e;kn(...t,...r),In(),ie(),await async function(){On(),await Un(),await Un(),sn(0);const n=An(),e=Sn();n.hideShips(),e.hideShips(),Ln(),$().publish("placement-phase-ended")}(),ae(),async function(){let n=!0,e=wn();for(;!wn();){$().publish("round-started",{isFirstRound:n});const t=An(),r=Sn();if(t.isAi()){let n=!0;for(;n&&!e;){const[t,i]=r.calculateAttack();r.receiveAttack(t,i),n=r.isShip(t,i),e=wn()}}else{let n=!0;for(;n&&!e;){const t=await new Promise((n=>{const e=$().subscribe("square-clicked",((t,r)=>{const{boardId:i,x:a,y:o}=r,s=Sn(),c=xn(),l=s.isHit(a,o);n(l||c!==i?null:{boardId:i,x:a,y:o}),$().unsubscribe(e)}))}));if(t){const{x:i,y:a}=t;r.receiveAttack(i,a),n=r.isShip(i,a),e=wn()}}}vn(),n&&(n=!1)}$().publish("game-loop-ended")}()})),$().subscribe("replace-ships-clicked",(()=>{const n=An();n.cleanBoard(),n.placeRandomShips()})),$().subscribe("round-started",(()=>{const n=An(),e=Sn(),t=!n.isAi();t&&!e.isAi()?(e.hideShips(),n.showShips(),sn(n.id),Rn(n.getName()),qn()):t&&(e.hideShips(),n.showShips(),sn(n.id))})),$().subscribe("play-again-clicked",(()=>{Cn(),Vn()}))})()})();